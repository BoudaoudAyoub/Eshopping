<div class="w-full md:w-80 p-4 bg-white rounded-lg shadow-lg border border-gray-200">
  <h2 class="text-xl font-bold text-gray-800 mb-4">Shopping Cart</h2>
  <div *ngIf="cartItems.length > 0; else emptyCart" class="space-y-4">
    
    <div *ngFor="let item of cartItems" class="flex justify-between items-start bg-gray-50 p-3 rounded-lg shadow-sm">
      <div>
        <p class="font-medium text-gray-900">{{ item.product.name }}</p>
        <p class="text-sm text-gray-500">Qty: {{ item.quantity }} Ã— ${{ item.product.price }}</p>
      </div>
      <div class="flex flex-col items-end">
        <span class="text-purple-600 font-semibold">${{ (item.product.price * item.quantity).toFixed(2) }}</span>
        <button (click)="removeItem(item.product.id)" class="text-xs bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded mt-1 cursor-pointer">Remove</button>
      </div>
    </div>

    <div class="pt-4 border-t text-sm text-gray-700 space-y-1">
      <div class="flex justify-between">
        <span>Subtotal:</span>
        <span>${{ subtotal.toFixed(2) }}</span>
      </div>
      <div class="flex justify-between">
        <span>Tax (2.83%):</span>
        <span>${{ tax.toFixed(2) }}</span>
      </div>
      <div class="flex justify-between">
        <span>Shipping:</span>
        <span>${{ shipping.toFixed(2) }}</span>
      </div>
      <div class="flex justify-between text-base font-semibold pt-2">
        <span>Total:</span>
        <span>${{ total.toFixed(2) }}</span>
      </div>
    </div>

    <button
      (click)="proceedToCheckout()"
      class="w-full mt-4 bg-gray-700 hover:bg-gray-600 text-white py-2 rounded-lg font-medium cursor-pointer"
    >
      Checkout
    </button>

  </div>

  <ng-template #emptyCart>
    <p class="text-sm text-gray-500">Your cart is empty</p>
  </ng-template>
</div>
